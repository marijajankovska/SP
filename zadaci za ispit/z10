/*Во датотеката podatoci.txt се запишани редови со низи од знаци (секој не подолг од 80 знаци).
Од стандарден влез се читаат два знака z1 и z2. Да се напише програма со која на стандарден излез ќе се испечатат поднизите од 
секој ред од датотеката составени од знаците што се наоѓаат меѓу z1 и z2 (без нив). Секоја подниза се печати во нов ред.
Се смета дека секој ред од датотеката точно еднаш ги содржи знаците z1 и z2, знакот z1 секогаш се наоѓа пред знакот z2, а меѓу z1 и z2 секогаш има барем еден знак */

#include <stdio.h>

#include <string.h>

void writeToFile() {
   FILE * f = fopen("podatoci.txt", "w");
   char c;
   while ((c = getchar()) != '#') {
      fputc(c, f);
   }
   fclose(f);
}
int main() {
   writeToFile();
   FILE * f = fopen("podatoci.txt", "r");
   char z1, z2;
   int i, start, end, flag = 0;
   char trash = getchar();
   z1 = getchar();
   z2 = getchar();
   char line[100];
   while (fgets(line, 80, f) != NULL) {
      flag = 0;
      line[strlen(line) - 1] = '\0';
      for (i = 0; i < strlen(line); i++) {
         if (flag == 0 && line[i] == z1) {
            start = i + 1;
            flag = 1;
         } else if (line[i] == z2) {
            end = i;
            break;
         }
       }
      //printf("%d %d",start,end);
      for (i = start; i < end; i++) {
         printf("%c", line[i]);
      }
      printf("\n");
   }
   fclose(f);
   return 0;
}
