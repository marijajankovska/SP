/*Дадена е текстуална датотека text.txt.
Да се избројат и испечатат сите последнователни појавувања на соседни самогласки во датотеката. Појавата на големи и мали букви да се игнорира.
Пронајдените парови самогласки да се испечатат на екран, секој во нов ред со мали букви. Потоа во нов ред се печати бројот на појавувања на паровите самогласки. */
#include <stdio.h>
#include <ctype.h>
#include <string.h>

void writeToFile() {
  FILE *f = fopen("text.txt", "w");
  char c;
  while((c = getchar()) != '#') {
    fputc(c, f);
  }
  fclose(f);
}
int is_vowel (char c)
{
    if(isalpha(c)){
    c = tolower(c);
    if ( c == 'a' || c == 'e' || c == 'i'  || c == 'o' || c == 'u')
        return 1;
    else
        return 0;
    }
}

int main() {

  writeToFile();
  FILE *f = fopen("text.txt", "r");
  char current, prethodnik;
  int i,j,flag = 0,counter = 0;
  while ((current = fgetc(f)) != EOF)
  {  
      current = tolower(current);
      if(flag == 0) //prva bukva
      {
          prethodnik = current;
          flag = 1;
          continue;
      }
      if (is_vowel(prethodnik))
      {
          if(is_vowel(current))
          {
            printf("%c%c\n",prethodnik, current);
            counter++;
          }
      }
      prethodnik = current;
  }
  printf("%d", counter);
  fclose(f);
  return 0;
}
