#include <stdio.h>
#include <string.h>
int dali_se_pojavuva (char c, int x, char arr[])
{
    int brojac  = 0;
    for (int i  = 0; i < strlen(arr); i++)
    {
        if(arr[i] == c)
        {
            brojac++;
        }
    }
    if(brojac == x)
        return 1;
    else
        return 0;
}
int main()
{
    int  x, max  = 1;
    char rec[100] ,c, max1[100] = " " , max2[100] = " ",max3[100] = " ";
    scanf("%c\n", &c);
    scanf("%d\n", &x);
    while (strchr(rec,'#') == NULL)
    {
        gets(rec);
        if (dali_se_pojavuva(c,x,rec))
        {
            if(strlen(rec) > max)   //najgolemata niza
            {
                strcpy(max1,rec);
                max = strlen(rec);
            }
            else if(strlen(rec) >= strlen(max1)) //vtora po golemina
            {
                strcpy(max2,rec);
            }
            else if(strlen(rec) >= strlen(max2))
            {
                strcpy(max3,rec);
            }
        }
    }
    strrev(max1);   strrev(max2);   strrev(max3);
    puts(max1);     puts(max2);     puts(max3);
    return 0;
}
